<div class="navbar navbar-fixed-top navbar-inverse" ng-show="loggedIn">
	<div class="navbar-inner">
		<div class="container-fluid">
			<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</a>
			<a class="brand" ng-href="#">Join my Talk!</a>
			<div class="nav-collapse">
				<button class="btn pull-right" ng-click="signOut()">Sign Out</button>
			</div>
		</div>
	</div>
</div>

<div class="row" ng-show="error">
	<div class="span12">
		<div class="alert alert-error">
			{{error}}
			<button type="button" class="close" ng-click="closeError()">&times;</button>
		</div>
	</div>
</div>

<div class="hero-unit" ng-hide="loggedIn">
	<h1>Join my Talk!</h1>
	<h2>Present. Everywhere.</h2>

	<p>Join my Talk! is a website to present everywhere you have an 
	HTML5-capable web browser available. Just upload your 
	presentation (currently supported: PDF, Microsoft PowerPoint, 
	OpenOffice/LibreOffice Impress). No setup, Flash or plugins 
	required!</p>

	<p>The audience can follow your talk, see exactly what you show 
	on the screen, and read any additional notes that you provide 
	with your slides. In the room you present, or remotely via the 
	internet.</p>

	<g+signin clientid="605861013997"></g+signin>
</div>
<div ng-show="loggedIn">

	<!-- upload form -->
	<button class="btn btn-primary" ng-click="openUpload()" ng-hide="showUpload">Upload Presentation</button>
	<form ng-upload action="/api/upload" class="form-horizontal" ng-show="showUpload" id="upload_form">
		<legend>Upload Presentation</legend>
		<div class="control-group">
			<div class="control-label">File you want to upload</div>
			<div class="controls">
				<input type="file" name="file">
			</div>
		</div>
		<div class="control-group">
			<div class="control-label">Presentation title</div>
			<div class="controls">
				<input type="text" placeholder="The title of your presentation" name="title">
			</div>
		</div>
		<div class="control-group">
			<div class="controls">
				<button type="submit" class="btn btn-primary" upload-submit="uploadComplete(content, completed)">Save</button>
				<button type="button" class="btn" ng-click="hideUpload()">Cancel</button>
			</div>
		</div>
	</form>

	<!-- presentation list -->
	<h3>Your Presentations</h3>
	<table class="table table-bordered" ng-show="uploads.length > 0">
		<tr><th>Title</th><th>Link</th><th>Actions</th></tr>
		<tr ng-repeat="upload in uploads">
			<td><a ng-href="/v/{{upload._id}}">{{upload.title}}</a></td>
			<td><a ng-href="/userdata/{{upload._id}}.pdf" target="_blank">Download</a></td>
			<td><button class="btn" ng-click="startSession(upload._id)">Start Session</button></td>
		</tr>
	</table>
	<p ng-show="loading_uploads">Loading presentations...</p>
	<p ng-show="uploads.length == 0 && !loading_uploads">You have no presentations uploaded.</p>

	<!-- session list -->
	<h3>Your Sessions</h3>
	<table class="table table-bordered" ng-show="sessions.length > 0">
		<tr><th>Title</th><th>Started</th></tr>
		<tr ng-repeat="session in sessions">
			<td><a ng-href="/s/{{session._id}}">{{session.title}}</a></td>
			<td>{{session.started}}</td>
		</tr>
	</table>
	<p ng-show="loading_sessions">Loading sessions...</p>
	<p ng-show="sessions.length == 0 && !loading_sessions">You have no active sessions.</p>
</div>
